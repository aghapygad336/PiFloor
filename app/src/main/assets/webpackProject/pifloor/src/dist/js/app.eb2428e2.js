(function(e){function t(t){for(var s,r,a=t[0],l=t[1],c=t[2],d=0,f=[];d<a.length;d++)r=a[d],i[r]&&f.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,a=1;a<n.length;a++){var l=n[a];0!==i[l]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},i={app:0},o=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("1d50")},"00ec":function(e,t,n){},"081c":function(e,t,n){"use strict";var s=n("d30e"),i=n.n(s);i.a},1599:function(e,t,n){"use strict";var s=n("5393"),i=n.n(s);i.a},"1d50":function(e,t,n){"use strict";n.r(t);n("7413"),n("9f8d"),n("d64a");var s=n("e832"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.playing?n("GamePage"):n("AdminPage")],1)},o=[],r=(n("5b3d"),n("7db1"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-col",{attrs:{"offset-md":"4",cols:"4","align-self":"center"}},[n("div",{staticClass:"containerMenu"},[n("h1",[e._v(e._s(e.$t("PiFloor")))]),n("br"),n("br"),n("FileUploader",{ref:"uploader"}),n("br"),n("ListOfQuestions"),n("br"),n("FileDownloader",{staticClass:"btn-block"}),n("br"),n("div",{staticClass:"shape"},[n("b-btn",{attrs:{block:"",variant:"outline-secondary"},on:{click:e.startGame}},[e._v(e._s(e.$t("PlayGame")))])],1),n("br"),n("div",{staticClass:"shape"},[n("b-form-select",{model:{value:e.$i18n.locale,callback:function(t){e.$set(e.$i18n,"locale",t)},expression:"$i18n.locale"}},e._l(this.$parent.lang,function(t){return n("option",{key:t,domProps:{value:t}},[e._v("\n          "+e._s(t)+"\n        ")])}),0)],1)],1)])}),a=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("center",[n("div",{staticClass:"shape"},[n("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modallg",modifiers:{modallg:!0}}],attrs:{block:"",variant:"outline-secondary"}},[e._v("Add Questions")])],1),n("b-modal",{attrs:{id:"modallg",size:"lg",title:"Drag or Browse Question File"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("FileDragPanel",{ref:"dragger"}),n("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[n("b-button",{attrs:{variant:"outline-success"},on:{click:e.uploadFiles}},[e._v("Done")])],1)],1)],1)],1)},c=[],u=(n("8d4e"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"example-drag"},[n("div",{staticClass:"upload"},[e.files.length?n("ul",e._l(e.files,function(t){return n("li",{key:t.id},[n("span",[e._v(e._s(t.name))]),e._v(" -\n        "),n("span",[e._v(e._s(t.size))]),e._v(" -\n        "),t.error?n("span",[e._v(e._s(t.error))]):t.success?n("span",[e._v("success")]):t.active?n("span",[e._v("active")]):n("span")])}),0):n("ul",[e._m(0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.$refs.upload&&e.$refs.upload.dropActive,expression:"$refs.upload && $refs.upload.dropActive"}],staticClass:"drop-active"},[n("h3",[e._v("Drop files to upload")])]),n("div",{staticClass:"example-btn"},[n("file-upload",{ref:"upload",attrs:{multiple:!0,drop:!0},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}},[n("i",{staticClass:"fa fa-plus"})])],1)])])}),d=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{attrs:{colspan:"7"}},[n("div",{staticClass:"text-center p-5"},[n("h4",[e._v("Drop files anywhere to upload"),n("br"),e._v("or")]),n("label",{staticClass:"btn btn-lg btn-outline-secondary",attrs:{for:"file"}},[e._v("Select Files")])])])}],f=(n("2185"),n("89d0")),p=n.n(f),h={components:{FileUpload:p.a},data:function(){return{files:[],drop:!0,questions:[]}},methods:{saveFiles:function(){return this.stringfyFiles(),this.questions},stringfyFiles:function(){for(var e=this,t=0;t<this.files.length;t++){if(".txt"!==this.files[t].name.slice(-4))return alert("Wrong file format, try again!"),void(this.questions=[]);var n=new FileReader;n.addEventListener("loadend",function(t){var n=t.target.result;n=n.split("\n");for(var s=0;s<n.length;s++)""!=n[s]&&e.questions.push(n[s])}),n.readAsText(this.files[t].file)}}}},v=h,m=(n("feb6"),n("a6c2")),b=Object(m["a"])(v,u,d,!1,null,null,null),_=b.exports,g={name:"FileUploader",components:{FileDragPanel:_},data:function(){return{show:!1,file:null,questions:[]}},methods:{uploadFiles:function(){var e=this,t=this.$refs.dragger.saveFiles();setTimeout(function(){for(var n=[],s=0;s<t.length;s++){var i=t[s].split(",");n.push({question:i[0],correct:i[1],choices:i.slice(2)})}e.questions=n,e.$parent.$parent.questions=e.questions,e.show=!1},300)}}},w=g,x=Object(m["a"])(w,l,c,!1,null,"16254174",null),q=x.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"shape"},[n("b-btn",{attrs:{block:"",variant:"outline-secondary"},on:{click:e.download}},[e._v("Download Questions")])],1),n("a",{ref:"link",attrs:{show:!1}}),n("b-modal",{ref:"emptyFileModal"},[n("p",[e._v("No questions added yet!")]),n("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"})])],1)},$=[],k=(n("836b"),{methods:{download:function(){var e=this.$parent.$refs.uploader.$refs.dragger.questions;e.length?(e=e.join("\n"),this.$refs.link.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),this.$refs.link.setAttribute("download","questions.txt"),this.$refs.link.click()):this.$refs.emptyFileModal.show()}}}),A=k,C=Object(m["a"])(A,y,$,!1,null,"9bf0bdd0",null),P=C.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"shape"},[n("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.questionsModal",modifiers:{questionsModal:!0}}],attrs:{block:"",variant:"outline-secondary"}},[e._v(e._s(e.$t("Questions")))])],1),n("b-modal",{attrs:{size:"lg",id:"questionsModal",title:"Questions"}},[e._l(e.$parent.$parent.questions,function(t,s){return n("div",{key:t},[n("Question",{attrs:{index:s,title:t.question,options:t.choices,picked:t.correct,questions:e.$parent.$parent.questions}}),n("button",{on:{click:function(){return e.deleteQuestion(s)}}},[e._v("\n                delete\n            ")]),n("div",{attrs:{id:"breakLine"}})],1)}),n("button",{on:{click:e.addQuestion}},[e._v("\n            new Question\n        ")])],2)],1)},F=[],O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-row",{attrs:{"align-v":"center"}},[n("b-col",{attrs:{cols:"9"}},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"sheet input-group-text",staticStyle:{"margin-left":"15px"}},[e._v(e._s(e.index+1)+". ")])]),n("b-form-input",{staticClass:"sheet",attrs:{type:"text"},model:{value:e.question,callback:function(t){e.question=t},expression:"question"}})],1)]),n("b-col",{attrs:{cols:"3"}},[n("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse"+e.index,expression:"'collapse' + index"}],attrs:{size:"sm",variant:"outline-secondary"}},[e._v("close/open")]),n("b-btn",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.deleteQuestion(e.index)}}},[e._v("delete")])],1)],1),n("br"),n("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse"+e.index,accordion:"ques-accordion"}},[e._l(e.questions[e.index].choices,function(t,s){return n("div",[n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"sheet input-group-text",staticStyle:{"margin-left":"15px"}},[e._v(e._s(s+1)+". ")])]),n("b-form-input",{staticClass:"sheet",attrs:{type:"text"},model:{value:e.questions[e.index].choices[s],callback:function(t){e.$set(e.questions[e.index].choices,s,t)},expression:"questions[index].choices[i]"}})],1),n("button",{on:{click:function(t){e.removeChoice(s)}}},[e._v("\n      delete\n    ")])])}),n("button",{on:{click:e.addChoice}},[e._v("\n    plus\n  ")]),n("br"),n("div",{staticClass:"select"},[n("p",[e._v("Select Correct Answer")]),n("b-form-select",{model:{value:e.correct,callback:function(t){e.correct=t},expression:"correct"}},e._l(e.questions[e.index].choices,function(t,s){return n("option",{key:e.questions[e.index].choices[s],domProps:{value:e.questions[e.index].choices[s]}},[e._v("\n        "+e._s(t)+"\n      ")])}),0)],1)],2)],1)},j=[],M={props:["index","questions"],data:function(){return{question:this.questions[this.index].question,correct:this.questions[this.index].correct}},methods:{addChoice:function(){this.questions[this.index].choices.push("")},removeChoice:function(e){this.questions[this.index].choices.splice(e,1)},deleteQuestion:function(e){this.questions.splice(e,1)}},watch:{question:function(e){this.$emit("inputQuestion",e)},correct:function(e){this.$emit("inputCorrect",e)}}},E=M,T=(n("ec3f"),Object(m["a"])(E,O,j,!1,null,"50073862",null)),G=T.exports,S={components:{Question:G},methods:{addQuestion:function(){this.$parent.$parent.questions.push({choices:[" "],correct:" ",question:" "})},deleteQuestion:function(e){this.$parent.$parent.questions.splice(e,1)}}},N=S,D=(n("1599"),Object(m["a"])(N,Q,F,!1,null,"627fd978",null)),U=D.exports,I={name:"AdminPage",components:{FileUploader:q,FileDownloader:P,ListOfQuestions:U},methods:{startGame:function(){this.$parent.playing=!0}}},H=I,L=(n("99b8"),Object(m["a"])(H,r,a,!1,null,"055a2ce2",null)),z=L.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.questions.length?n("b-container",{staticClass:"wrapper"},[n("GameHeader",{ref:"gameHeader"}),e.testing?n("div",{attrs:{id:"test"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.testAnswer,expression:"testAnswer"}],attrs:{type:"text"},domProps:{value:e.testAnswer},on:{input:function(t){t.target.composing||(e.testAnswer=t.target.value)}}}),n("button",{attrs:{type:"button"},on:{click:function(t){e.checkAnswer(e.testAnswer)}}},[e._v("Submit")])]):e._e(),n("b-container",{staticClass:"gameContainer"},[n("QuestionBody",[e._v(e._s(e.questionText))]),n("AnswersGrid",{attrs:{PossibleAnswers:e.possibleAnswers}}),n("b-btn",{staticClass:"nextQues",attrs:{variant:"outline-secondary"},on:{click:e.nextQuestion}},[e._v("Next Question")])],1)],1):e._e(),n("b-modal",{ref:"helperModal"},[n("div",{attrs:{slot:"modal-header"},slot:"modal-header"}),e.failed?n("p",[e._v("No questions added yet!")]):n("p",[e._v("Congrats, You finished your questions!")]),n("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[n("b-btn",{attrs:{variant:"outline-secondary"},on:{click:e.returnToHome}},[e._v("Back")])],1)])],1)},R=[],W=n("b98c"),J=n.n(W),Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("h3",[e._v("Score: "+e._s(e.score))]),n("h3",[e._v("Timer: "+e._s(e.timer)+"s")])])},K=[],V={data:function(){return{score:0,timer:10}},methods:{correctAnswer:function(){this.score+=10}}},X=V,Z=(n("d02a"),Object(m["a"])(X,Y,K,!1,null,"274f2c3a",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._t("default")],2)])},ne=[],se={},ie=se,oe=(n("8b5f"),Object(m["a"])(ie,te,ne,!1,null,"0a6b9933",null)),re=oe.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[n("center",[n("b-row",{staticClass:"justify-content-center",attrs:{id:"grid","no-gutters":""}},e._l(e.PossibleAnswers,function(t,s){return n("b-col",{key:t+s,staticClass:"answer",attrs:{cols:e.numPerRow}},[n("span",[e._v(e._s(t))])])}),1)],1)],1)},le=[],ce={props:["PossibleAnswers"],data:function(){return{}},computed:{numPerRow:function(){var e=this.PossibleAnswers.length;return e=Math.ceil(Math.sqrt(e)),12/e}},mounted:function(){var e=this;setTimeout(function(){var t=e.PossibleAnswers.length;t=Math.pow(Math.ceil(Math.sqrt(t)),2),t-=e.PossibleAnswers.length;for(var n=0;n<t;n++)e.PossibleAnswers.push("")},200)},beforeUpdate:function(){var e=this;setTimeout(function(){var t=e.PossibleAnswers.length;t=Math.pow(Math.ceil(Math.sqrt(t)),2),t-=e.PossibleAnswers.length;for(var n=0;n<t;n++)e.PossibleAnswers.push("")},200)}},ue=ce,de=(n("7a68"),Object(m["a"])(ue,ae,le,!1,null,"7857c53e",null)),fe=de.exports,pe={name:"GamePage",components:{GameHeader:ee,QuestionBody:re,AnswersGrid:fe},data:function(){return{questions:[],questionIndex:0,failed:!0,testing:!0,testAnswer:""}},computed:{questionText:function(){return this.questions[this.questionIndex].question},correctAnswer:function(){return this.questions[this.questionIndex].correct},possibleAnswers:function(){return this.questions[this.questionIndex].choices}},methods:{nextQuestion:function(){if(this.questionIndex==this.questions.length-1){var e=new Audio(n("252b"));e.play(),this.failed=!1,this.$refs.helperModal.show()}else this.questionIndex++},returnToHome:function(){this.failed=!0,this.$parent.playing=!1},checkAnswer:function(e){var t=this.possibleAnswers.indexOf(this.correctAnswer);J()(e)===t?this.celebrate():this.getUpset(),setTimeout(this.nextQuestion,3e3)},celebrate:function(){this.$refs.gameHeader.correctAnswer();var e=new Audio(n("dca8"));e.play()},getUpset:function(){console.log("Wrong answer");var e=new Audio(n("4b64"));e.play()}},mounted:function(){var e=this.$parent.questions;e.length?this.questions=e:this.$refs.helperModal.show()},sockets:{connect:function(){console.log("We're connected!")},game:function(e){isNaN(e)?alert("Wrong data type!"):this.checkAnswer(e)}}},he=pe,ve=(n("081c"),Object(m["a"])(he,B,R,!1,null,"38835ddc",null)),me=ve.exports,be=(n("964e"),{name:"app",components:{AdminPage:z,GamePage:me},data:function(){return{lang:["en","ar"],questions:[],playing:!1}}}),_e=be,ge=(n("853d"),Object(m["a"])(_e,i,o,!1,null,"637b2bd1",null)),we=ge.exports,xe=n("1ea0"),qe=n("a925"),ye={en:{PlayGame:"Let's Play!",PiFloor:"Pi Floor",Questions:"Questions"},ar:{PlayGame:"!هيا لنلعب",PiFloor:"Pi Floor",Questions:"أسئلة"}};s["a"].config.productionTip=!1,s["a"].use(xe["a"]),s["a"].use(qe["a"]);var $e=new qe["a"]({locale:"en",messages:ye});new s["a"]({i18n:$e,render:function(e){return e(we)}}).$mount("#app")},"252b":function(e,t,n){e.exports=n.p+"media/success.2bf45ec9.mp3"},"4b64":function(e,t,n){e.exports=n.p+"media/fail.2d30df89.mp3"},"524a":function(e,t,n){},5393:function(e,t,n){},"61a3":function(e,t,n){},"7a68":function(e,t,n){"use strict";var s=n("8a65"),i=n.n(s);i.a},"853d":function(e,t,n){"use strict";var s=n("00ec"),i=n.n(s);i.a},"8a65":function(e,t,n){},"8b5f":function(e,t,n){"use strict";var s=n("a21e"),i=n.n(s);i.a},"964e":function(e,t,n){},"99b8":function(e,t,n){"use strict";var s=n("a174"),i=n.n(s);i.a},a174:function(e,t,n){},a21e:function(e,t,n){},d02a:function(e,t,n){"use strict";var s=n("61a3"),i=n.n(s);i.a},d30e:function(e,t,n){},dca8:function(e,t,n){e.exports=n.p+"media/correct.3ee5565f.mp3"},dd69:function(e,t,n){},ec3f:function(e,t,n){"use strict";var s=n("dd69"),i=n.n(s);i.a},feb6:function(e,t,n){"use strict";var s=n("524a"),i=n.n(s);i.a}});
//# sourceMappingURL=app.eb2428e2.js.map